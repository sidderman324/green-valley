$(document).ready(function(){function e(){if($(window).width()<768){$(".gallery__main-wrapper").hide();var e=parseInt($("#gallery-preview").css("width")),t=e/1.56;$("#gallery-preview").css("height",t),$("#gallery-preview  .owl-stage-outer").css("height",t),$("#gallery-preview  .gallery__photo-thumbs").css("height",t)}else{$(".gallery__main-wrapper").show();var a=parseInt($(".gallery__main-wrapper").css("width")),r=a/2.36;$(".gallery__main-wrapper").css("height",r),$(".gallery__main-wrapper  .gallery__main-photo").css("height",r);var e=parseInt($("#gallery-preview").css("width")),l=e/11.2;$("#gallery-preview").css("height",l),$("#gallery-preview .gallery__item").css("height",l),$("#gallery-preview .gallery__photo-thumbs").css("height",l)}}function t(){var e=$(window).width();e<1199?($(".review-card:nth-child(3)").addClass("review-card--hidden"),$(".review-card:nth-child(4)").addClass("review-card--hidden"),$(".review-card:nth-child(5)").addClass("review-card--hidden"),$(".review-card:nth-child(6)").addClass("review-card--hidden"),$("#reviewCard").trigger("destroy.owl.carousel").removeClass("owl-carousel owl-loaded"),$("#reviewCard").find(".owl-stage-outer").children().unwrap()):($("#reviewCard").owlCarousel({items:2,loop:!0}),$(".review-card").removeClass("review-card--hidden")),console.log(e)}function a(){$(".total-price__text").fadeIn(400);var e=$("#start").attr("value"),t=$("#end").attr("value"),a=(t-e)/864e5;i=0,i=a>0?3:0,3==i?$(".total-price__text").fadeOut(400):($("#errorCause").text("выберите корректную дату"),$(".total-price__text").fadeIn(400),$("#errorCause").attr("href","#restPeriod")),r()}function r(){var e=$(".cottage-type__list--active .cottage-type__text--active").next().attr("value"),t=$("#start").attr("value"),a=$("#end").attr("value"),r=(a-t)/864e5,l=((new Date).getTime(),r*e);l<1?$("#totalCost").text("-"):$("#totalCost").text(l+" руб"),$(".personal-info__item").hasClass("input-validate__error")?($(".total-price__text").fadeIn(400),$("#errorCause").text("выберите корректные данные"),$("#errorCause").attr("href","#personalInfo")):$(".personal-info__item").hasClass("input-validate__success")?$(".total-price__text").fadeOut(400):0==i&&($("#errorCause").text("выберите корректную дату"),$(".total-price__text").fadeIn(400),$("#errorCause").attr("href","#restPeriod"))}$("input,textarea").focus(function(){$(this).data("placeholder",$(this).attr("placeholder")),$(this).attr("placeholder","")}),$("input,textarea").blur(function(){$(this).attr("placeholder",$(this).data("placeholder"))}),$("#toggler").on("click",function(){$("#nav").toggleClass("main-nav--hidden"),$(".outliner").toggleClass("outliner--active")}),$(".outliner").on("click",function(){$("#nav").toggleClass("main-nav--hidden"),$(".outliner").toggleClass("outliner--active")}),$(".rest-option").owlCarousel({items:1,touchDrag:!1,pullDrag:!1}),$(".rest-type-switcher__head").owlCarousel({items:1,touchDrag:!1,pullDrag:!1}),$(".type-tab__link").on("click",function(e){e.preventDefault(),$(this).hasClass("type-tab__link--active")||$(".type-tab__link").toggleClass("type-tab__link--active")}),$("#restFamily").click(function(){$(".rest-option").trigger("prev.owl.carousel",[200]),$(".rest-type-switcher__head").trigger("prev.owl.carousel",[200])}),$("#restCompany").click(function(){$(".rest-option").trigger("next.owl.carousel",[200]),$(".rest-type-switcher__head").trigger("next.owl.carousel",[200])}),e(),$(document).ready(e),$(window).resize(e),$("#gallery-preview").owlCarousel({center:!0,startPosition:4,responsive:{0:{items:1},768:{items:6}}}),$("#gallery-preview").on("click",".owl-item",function(e){var t=$(this).index();$("#gallery-preview").trigger("to.owl.carousel",t)}),$("#gallery-preview img").on("click",function(e){var t=$(this).attr("src");$("#gallery-main-img").attr("src",t)}),$(document).ready(t),$(window).resize(t),$("#reviewAll").on("click",function(e){e.preventDefault(),$("#reviewCard").trigger("destroy.owl.carousel"),$(".review__card-wrapper").css({width:"100%"}),$(".review__card-wrapper  .owl-stage-outer").css({width:"100%",display:"flex","flex-direction":"row","flex-wrap":"wrap","justify-content":"center","align-items":"center"}),$(".review__arrow-btn").css({display:"none"}),$("#reviewAll").css({display:"none"}),$(".review-card").fadeIn(400).css("display","flex")}),$("#singleRoomGallery").owlCarousel({items:1,loop:!0}),$("#arrowNext").click(function(e){e.preventDefault(),$("#reviewCard").trigger("next.owl.carousel",[300]),$("#singleRoomGallery").trigger("next.owl.carousel",[300])}),$("#arrowPrev").click(function(e){e.preventDefault(),$("#reviewCard").trigger("prev.owl.carousel",[300]),$("#singleRoomGallery").trigger("prev.owl.carousel",[300])}),$("#offer").owlCarousel({items:1,loop:!0,dots:!0}),$("#loupe").on("click",function(e){e.preventDefault(),$(".modal__img").attr("src",$("#singleRoomGallery .active .room-description__photo-item").attr("src")),$("#modal").fadeIn(400).css({display:"flex"}),$(".modal").fadeIn(400).css({display:"flex"})}),$("#loupeClose").on("click",function(e){e.preventDefault(),$("#modal").fadeOut(400).css({display:"none"}),$(".modal").fadeIn(400).css({display:"none"})}),$(".modal").on("click",function(e){e.preventDefault(),$("#modal").fadeOut(400).css({display:"none"}),$(".modal").fadeIn(400).css({display:"none"})}),$(".reach-us__map-mask").on("click",function(e){e.preventDefault(),$(this).css({display:"none"})}),$(".placement-type__label").on("click",function(e){e.preventDefault(),$(this).hasClass("placement-type__label--active")||($(".placement-type__label").toggleClass("placement-type__label--active"),$(".cottage-type__list").toggleClass("cottage-type__list--active"),$(".cottage-type__list a:first-child > span").addClass("cottage-type__text--active"),$(".cottage-type__title").toggleClass("cottage-type__title--active"),$(".cottage-advantages").toggleClass("cottage-advantages--active"),$(".cottage-advantages--active div:first-child").addClass("cottage-advantages__item--active"))}),$(function(){$(".cottage-type__text").on("click",function(e){e.preventDefault(),$(".cottage-type__text").removeClass("cottage-type__text--active"),$(".cottage-advantages__item").removeClass("cottage-advantages__item--active"),!$(this).addClass("cottage-type__text--active");var t=$(this).parent().attr("href");$(t).addClass("cottage-advantages__item--active")})}),$(function(){$(".payment-type__on-arrival").on("click",function(){$(".payment-type__on-arrival > .payment-type__subtitle").addClass("payment-type__subtitle--active"),$(".payment-type__bank-card > .payment-type__subtitle").removeClass("payment-type__subtitle--active")}),$(".payment-type__bank-card").on("click",function(){$(".payment-type__bank-card > .payment-type__subtitle").addClass("payment-type__subtitle--active"),$(".payment-type__on-arrival > .payment-type__subtitle").removeClass("payment-type__subtitle--active")})});var l={Name:function(){$("body").append('<div id="nameInfo" class="info"></div>');var e=$("#nameInfo"),t=$("#firstName"),a=t.offset();e.css({top:a.top-3,left:a.left+t.width()+15});var r=/^[А-Яа-яЁё]+$/i;r.test(t.val())?t.removeClass("input-validate__error").addClass("input-validate__success"):(l.errors=!0,t.removeClass("input-validate__success").addClass("input-validate__error"))},surName:function(){$("body").append('<div id="nameInfo" class="info"></div>');var e=$("#nameInfo"),t=$("#surName"),a=t.offset();e.css({top:a.top-3,left:a.left+t.width()+15});var r=/^[А-Яа-яЁё]+$/i;r.test(t.val())?t.removeClass("input-validate__error").addClass("input-validate__success"):(l.errors=!0,t.removeClass("input-validate__success").addClass("input-validate__error"))},phone:function(){$("body").append('<div id="emailInfo" class="info"></div>');var e=$("#emailInfo"),t=$("#phone"),a=t.offset();e.css({top:a.top-3,left:a.left+t.width()+15});var r=/([0-9]{10})|(\([0-9]{3}\)\s+[0-9]{3}\-[0-9]{4})/i;r.test(t.val())?t.removeClass("input-validate__error").addClass("input-validate__success"):(l.errors=!0,t.removeClass("input-validate__success").addClass("input-validate__error"))},email:function(){$("body").append('<div id="emailInfo" class="info"></div>');var e=$("#emailInfo"),t=$("#eMail"),a=t.offset();e.css({top:a.top-3,left:a.left+t.width()+15});var r=/^.+@.+[.].{2,}$/i;r.test(t.val())?t.removeClass("input-validate__error").addClass("input-validate__success"):(l.errors=!0,t.removeClass("input-validate__success").addClass("input-validate__error"))},cardNumber:function(){$("body").append('<div id="emailInfo" class="info"></div>');var e=$("#emailInfo"),t=$("#cardNumber"),a=t.offset();e.css({top:a.top-3,left:a.left+t.width()+15});var r=/^\d{16}$/i;r.test(t.val())?t.removeClass("input-validate__error").addClass("input-validate__success"):(l.errors=!0,t.removeClass("input-validate__success").addClass("input-validate__error"))},cardOwner:function(){$("body").append('<div id="emailInfo" class="info"></div>');var e=$("#emailInfo"),t=$("#cardOwner"),a=t.offset();e.css({top:a.top-3,left:a.left+t.width()+15});var r=/^[a-zA-Z\s]+$/i;r.test(t.val())?t.removeClass("input-validate__error").addClass("input-validate__success"):(l.errors=!0,t.removeClass("input-validate__success").addClass("input-validate__error"))},cardCVV:function(){$("body").append('<div id="emailInfo" class="info"></div>');var e=$("#emailInfo"),t=$("#cardCVV"),a=t.offset();e.css({top:a.top-3,left:a.left+t.width()+15});var r=/^\d{3,4}$/i;r.test(t.val())?t.removeClass("input-validate__error").addClass("input-validate__success"):(l.errors=!0,t.removeClass("input-validate__success").addClass("input-validate__error"))},cardValidPeriod:function(){$("body").append('<div id="emailInfo" class="info"></div>');var e=$("#emailInfo"),t=$("#cardValidPeriod"),a=t.offset();e.css({top:a.top-3,left:a.left+t.width()+15});var r=/(\d{2})+(\/\d{2})?/i;r.test(t.val())?t.removeClass("input-validate__error").addClass("input-validate__success"):(l.errors=!0,t.removeClass("input-validate__success").addClass("input-validate__error"))}};$("#firstName").change(l.Name),$("#surName").change(l.surName),$("#phone").change(l.phone),$("#eMail").change(l.email),$("#cardNumber").change(l.cardNumber),$("#cardOwner").change(l.cardOwner),$("#cardCVV").change(l.cardCVV),$("#cardValidPeriod").change(l.cardValidPeriod),$(".pay-now__cvv-question").hover(function(){$(".pay-now__cvv-info").addClass("pay-now__cvv-info--active")},function(){$(".pay-now__cvv-info").removeClass("pay-now__cvv-info--active")});var i;$(function(){var e=new Pikaday({field:document.getElementById("start"),onSelect:function(){var t=e.getDate(),r=moment(t).toDate(),l=moment(r).format("dddd, MMMM D YYYY"),i=moment(r).valueOf();$("#startD").text(r.getDate()),$("#startM").text(r.getMonth()+1),$("#startY").text(r.getFullYear()),$("#start").attr("value",i),$("#start").attr("name",l),a()}}),t=new Pikaday({field:document.getElementById("end"),onSelect:function(){var e=t.getDate(),r=moment(e).toDate(),l=moment(r).format("dddd, MMMM D YYYY"),i=moment(r).valueOf();$("#endD").text(r.getDate()),$("#endM").text(r.getMonth()+1),$("#endY").text(r.getFullYear()),$("#end").attr("value",i),$("#end").attr("name",l),a()}})}),$("#errorCause").click(function(){var e=$(this).attr("href"),t=$(e).offset().top;return jQuery("html:not(:animated),body:not(:animated)").animate({scrollTop:t},800),!1}),$(document).ready(r),$(document).click(r),$(".placement-type__item").click(r),$(".cottage-type__list").click(r),$(".rest-period__item").click(r),$("#booking").on("click",function(e){e.preventDefault();var t=$("#start").attr("name"),a=$("#end").attr("name"),r=$(".placement-type__label--active > input").attr("name"),l=$(".cottage-type__list--active .cottage-type__text--active").next().attr("name"),i=$("#firstName:text").val(),s=$("#surName:text").val(),o=$("#phone:text").val(),n=$("#eMail:text").val();if(console.log(t),console.log(a),console.log(r),console.log(l),console.log(i),console.log(s),console.log(o),console.log(n),$("#onArrival").hasClass("payment-type__subtitle--active"))console.log("Оплата по приезду");else if($("#bankCard").hasClass("payment-type__subtitle--active")){var c=$("#cardNumber:text").val(),d=$("#cardOwner:text").val(),p=$("#cardCVV:text").val(),v=$("#cardValidPeriod:text").val();console.log(c),console.log(d),console.log(p),console.log(v)}})});